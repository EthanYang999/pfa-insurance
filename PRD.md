# 产品需求文档（Product Requirements Document）

## 1. 产品概述
- **产品名称**：AI教练雪莉 (Coach Shirley) 前端聊天系统
- **产品定位**：PFA保险经纪人的AI智能培训助手，提供7x24小时产品知识和话术辅导
- **目标用户**：PFA保险公司的保险经纪人
- **核心问题**：为保险经纪人提供随时可用的专业培训指导，提升销售技能和产品知识水平

## 2. 用户分析
| 用户类型 | 用户特征 | 核心需求 | 使用场景 |
|:--------:|:--------:|:--------:|:--------:|
| 保险经纪人 | 需要持续学习产品知识和销售技巧 | 快速获取专业指导和话术练习 | 工作间隙、客户拜访前准备、移动办公时学习 |

## 3. 页面架构
### 3.1 页面清单
| 页面名称 | 页面类型 | 核心功能 | 用户价值 | 用户入口 | 优先级 |
|:--------:|:--------:|:--------:|:--------:|:--------:|:--------:|
| 聊天主界面 | 功能页 | AI对话交互、数字人展示 | 获得专业培训指导 | 登录后直接进入 | P0 |
| 登录页面 | 流程页 | 用户身份验证 | 确保系统安全访问 | 网站首页 | P1 |

### 3.2 页面详细需求
#### 页面1：聊天主界面
- **页面目标**：为用户提供与AI教练雪莉的实时对话体验
- **核心功能**：
  - 实时文字聊天对话
  - 数字人虚拟形象展示（预留UE5集成区域）
  - 语音对话入口预留
  - 响应式布局适配PC和移动端
- **业务逻辑**：
  - 通过n8n webhook调用后端AI工作流
  - 支持多轮对话上下文保持
  - 实时消息发送和接收
- **页面元素**：
  - 左侧：数字人展示区域（预留UE5 Shirley数字人集成）
  - 右侧：聊天对话区域
  - 底部：消息输入框和发送按钮
  - 顶部：标题栏和语音功能入口（预留）
- **交互逻辑**：
  - 用户输入消息 → 发送到n8n后端 → 接收AI回复 → 实时显示
  - 支持Enter键快速发送
  - 消息自动滚动到最新位置
- **跳转逻辑**：无页面跳转，单页面应用

#### 页面2：登录页面
- **页面目标**：用户身份验证和系统访问控制
- **核心功能**：集成Supabase身份认证系统
- **业务逻辑**：验证用户身份后跳转到聊天主界面
- **页面元素**：登录表单、品牌标识、欢迎信息
- **交互逻辑**：输入凭据 → 验证身份 → 跳转主界面
- **跳转逻辑**：登录成功后跳转到聊天主界面

## 4. 用户故事
### P0核心功能：
- 作为保险经纪人，我希望能够随时与AI教练雪莉进行文字对话，以便获得产品知识和销售话术指导
- 业务规则：对话内容通过n8n工作流处理，确保专业性和准确性

- 作为保险经纪人，我希望在不同设备上都能正常使用系统，以便在任何地点进行学习
- 业务规则：界面必须支持PC和移动端响应式适配

- 作为保险经纪人，我希望看到AI教练雪莉的虚拟形象，以便获得更好的交互体验
- 业务规则：预留数字人展示区域，等待UE5数字人集成

### P1重要功能：
- 作为保险经纪人，我希望能够通过语音与AI教练对话，以便在忙碌时也能进行学习
- 业务规则：预留语音功能入口，后续开发时集成

- 作为系统管理员，我希望用户必须登录才能使用系统，以便确保数据安全
- 业务规则：集成Supabase认证，用户未登录时重定向到登录页

## 5. 用户流程
### 主要操作路径：
1. 用户访问网站 → 2. 身份验证登录 → 3. 进入聊天界面 → 4. 与AI教练对话 → 5. 获得专业指导

### 页面流转图：
网站首页 → 登录页面 → 聊天主界面（单页应用，无需跳转）

## 6. 产品约束
- **平台要求**：
  - Web应用，基于Next.js框架开发
  - 支持现代浏览器（Chrome、Safari、Firefox、Edge）
  - 响应式设计，适配桌面端和移动端
- **功能边界**：
  - MVP版本仅包含文字聊天功能
  - 暂不存储用户对话历史
  - 暂不区分用户等级和身份
- **内容规范**：
  - 对话内容专注于保险产品知识和销售话术
  - 界面语言为中文
  - 遵循PFA品牌设计规范
- **技术约束**：
  - 后端接口通过n8n webhook调用
  - 身份认证集成Supabase
  - 数字人功能需等待UE5开发完成后集成
  - 语音功能为预留设计，后续开发